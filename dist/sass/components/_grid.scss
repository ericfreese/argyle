@import "../context";
@import "../helpers/breakpoints";
@import "../helpers/clearfix";

@mixin ar-grid-row() {
  $grid-ctx: ar-require-context("grid");

  $gutter-width: map-get($grid-ctx, "gutter-width");

  @if ($gutter-width) {
    margin-left: -($gutter-width / 2);
    margin-right: -($gutter-width / 2);
  }

  @include ar-clearfix;
}

@mixin ar-grid-row-item($width, $float: left) {
  $grid-ctx: ar-require-context("grid");

  $gutter-width: map-get($grid-ctx, "gutter-width");

  padding-left: $gutter-width / 2;
  padding-right: $gutter-width / 2;
  box-sizing: border-box;
  width: $width;
  float: $float;
}

@mixin ar-grid-row-item-offset($offset) {
  margin-left: $offset;
}

@mixin ar-grid-cols($width-cols, $offset-cols: null, $from: null, $to: null, $float: null) {
  $grid-ctx: ar-require-context("grid");

  $columns: map-get($grid-ctx, "columns");
  $float: if(map-has-key($grid-ctx, "float"), map-get($grid-ctx, "float"), left) !default;

  @include ar-breakpoint-query($from, $to) {
    @include ar-grid-row-item(percentage($width-cols / $columns), $float);
    @if $offset-cols {
      @include ar-grid-row-item-offset(percentage($offset-cols / $columns))
    }
  }
}
